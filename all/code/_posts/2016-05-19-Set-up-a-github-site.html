---
layout: default
title: "在github上建立一个基于Jekyll的网站"
---

<h2>{{ page.title }}</h2>

<p class="publish_date">19 May 2016</p>



<h3>一、注册github账号</h3>
网址：<a target="_blank" href="https://github.com">https://github.com/</a><br/>

<h3>二、创建仓库</h3>
具体教程网址：<a target="_blank" href="https://pages.github.com/">https://pages.github.com/</a><br/>
一般选择User or organization site。就是个人的站点，没有关联某个项目。<br/>
用你注册的账号登录github：<br/>
1.点击右侧的New repository。<br/>
2.最好填你的用户名，其他的我没有试过。<br/>
<div>
<img src="/images/blogs/code/2016-05-19-Set-up-a-github-site/1.png" alt="Create a new repository" />
</div>
说明：<br/>
.gitignore是记录Jekyll项目中需要忽略提交的文件夹列表。<br/>
LICENSE是版权声明，这是默认模版，需要自己修改文件中最下边日期和所有者。<br/>
README.md是显示在下边的说明文件，github会自动解析显示在项目的下边。<br/>

<h3>三、绑定域名（如果没有私有域名，请忽略）</h3>
我用的是阿里云的域名服务（万网），其中有免费的企业邮箱可以用。<br/>
注册支持淘宝账户。注册账户和购买域名在这里就不赘述了。<br/>
网址：<a target="_blank" href="https://www.aliyun.com/">https://www.aliyun.com/</a><br/>
在域名解析中加入如下解析地址：<br/>
<div>
<img src="/images/blogs/code/2016-05-19-Set-up-a-github-site/2.jpg" alt="解析地址" />
</div>
另在github仓库中添加CNAME为名字的文件，注意：没有文件格式，全大写。<br/>
文件中只有一行，就是你申请的域名，我的是"lizheblogs.com"。<br/>
详细参考网址：<br/>
<a target="_blank" href="https://help.github.com/articles/using-a-custom-domain-with-github-pages/">
https://help.github.com/articles/using-a-custom-domain-with-github-pages/</a><br/>

<h3>四、配置Jekyll的编译环境</h3>
Jekyll工具的介绍和文档地址：<br/>
中文：<a target="_blank" href="http://jekyll.bootcss.com/">http://jekyll.bootcss.com/</a><br/>
英文：<a target="_blank" href="http://jekyllrb.com/">http://jekyllrb.com/</a><br/>
这里只介绍windows的环境搭建。已经测试可以成功。<br/>
详细参考网址：<br/>
<a target="_blank" href="http://jekyll-windows.juthilo.com/">http://jekyll-windows.juthilo.com/</a><br/><br/>
<p class="orange">1.安装Ruby和Ruby DevKit<br/>
<span class="white">下载地址：</span><br/>
<a target="_blank" href="http://rubyinstaller.org/downloads/">
http://rubyinstaller.org/downloads/</a></p>
如果下载编译好的EXE文件，就可以直接安装，不需要下面命令。<br/>
DevKit解压到任意目录，例如：C:\RubyDevKit\，打开命令行工具，并执行：<br/>
<pre>
cd C:\RubyDevKit
ruby dk.rb init
ruby dk.rb install
</pre>
<p class="orange">2.安装jekyll</p> 
<pre>
gem install jekyll
</pre>
<p class="orange">3.编译和本地运行</p> 
如果还没有Jekyll项目可以用命令初始化，命令为：<br/>
<pre>
jekyll new 你的项目地址
</pre>
新建完成后就可以在本地编译和运行查看效果了，命令为：<br/>
<pre>
jekyll build
jekyll serve
</pre>
错误：如果说没有权限，可以尝试改变端口号，默认是4000。<br/>
方法：在_config.yml文件中添加"port: 5001"。<br/>
如果想在局域网访问需执行：<br/>
jekyll serve -w --host=0.0.0.0<br/>

<h3>五、Jekyll项目的目录结构</h3>
参考地址：<br/>
<a target="_blank" href="https://jekyllrb.com/docs/structure/">https://jekyllrb.com/docs/structure/</a><br/>
<a target="_blank" href="http://litaotao.github.io/github-pages-blog">
http://litaotao.github.io/github-pages-blog</a><br/>
我现在还不怎么会markdown和textile，所以还都是html格式。<br/>
<pre>
.
├── _config.yml 保存配置数据
├── _drafts 未发布的文章
|   ├── begin-with-the-crazy-ideas.textile
|   └── on-simplicity-in-technology.markdown
├── _includes 重用的文件
|   ├── footer.html
|   └── header.html
├── _layouts 包裹在文章外部的模板
|   ├── default.html
|   └── post.html
├── _posts 文章 格式是：日期-标题.文件格式
|   ├── 2007-10-29-why-every-programmer-should-play-nethack.textile
|   └── 2009-04-26-barcamp-boston-4-roundup.textile
├── _data 网站数据
|   └── members.yml
├── _site 编译好的页面，要加到.gitignore中。
├── .jekyll-metadata
└── index.html 起始页面
</pre>

<h3>六、Jekyll项目模版</h3>
有大量使用 Github + Jekyll 的项目，都是开源的，挑自己喜欢的改一下就好了。<br/>
但要注意版权声明。我现在还在学习中，就参考了其中的一个项目。<br/><br/>
模版地址：<br/>
<a target="_blank" href="https://github.com/jekyll/jekyll/wiki/Sites">
https://github.com/jekyll/jekyll/wiki/Sites</a><br/><br/>